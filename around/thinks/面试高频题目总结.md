## 面试高频题目总结

总结一下老问老忘的面试题问法吧。

**1. react 的 setState 是同步还是异步**

有时同步，有时异步。

- 原生事件和 setTimeout 中是同步
- 合成事件和生命周期中是异步的

合成事件（SyntheticEvent）是指 react 不直接监听 dom，而是等事件冒泡到 document 上，在 document 实现事件监听。

**2. vue 和 react 用起来有什么区别？**

分三个部分答：

1. Vue 是双向绑定，React 是单向数据流，处理表单时 Vue 更便捷。
2. React 数据流更清晰，大型项目中更便于规范排错。Vue 相对来说更松散一点。
3. Vue 的单文件组件，模板与样式分层清晰，对开发者来说更友好。React 的 JSX 更能充分发挥 js 的灵活性。

**3. vue 双向数据绑定的原理？数组的更新**

双向数据绑定原理，也就是问响应式原理。

说一下 Object.defineProperty 为 data 的每个属性设置 getter/setter，getter 依赖收集，setter 触发批量更新。

数组更新时特例。

当利用索引直接设置一个数组项，或修改数组长度时，Vue是监听不到的。

```js
this.$set(array, index, newValue)
```
直接修改数组长度，Vue也监听不到。应该这样：

```js
this.array.splice(newLength)
```
