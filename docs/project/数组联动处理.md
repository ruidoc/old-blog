## 数组联动处理

先说下业务：我做的一个高考报志愿系统，报考页面维护着两个数组：学校列表和志愿列表。学校列列可以选择志愿，比如选志愿一，志愿二，选完后志愿列表中的这条志愿要绑定这个学校信息；同时，志愿列表可以删除志愿，也就是志愿与学校解绑，对应的学校列表中的学校也要与志愿解绑。

大概的联动情况是这样，这是第一层联动。然后每个学校下还有个专业列表，专业与志愿联动与第一层类似，所以要处理的是两个二维数组的联动。

这种需求很常见，我遇到过至少三次，今天记一下我认为高效率的解决思路。

### 数据展示

学校列表：

```js
var schoolList = [
  {
    volun_order: 1,
    school_code: "5488",
    school_name: "清华大学",
    major_list: [
      {
        major_code: "765",
        major_name: "人工智能",
      },
      {
        major_code: "476",
        major_name: "云计算",
      },
    ],
  },
];
```

志愿列表：

```js
var volunteers = [
  {
    volun_order: 1,
    volun_name: '志愿一',
    school_code: "5488",
    school_name: "清华大学",
    major_list: [
      {
        volun_name: '专业一',
        major_code: "765",
        major_name: "人工智能",
      },
      {
        volun_name: '专业二',
        major_code: "",
        major_name: "",
      },
    ],
  },
];
```

选择志愿时，两个数组的 `volun_order` 和 `school_code` 字段相互绑定，如图：

