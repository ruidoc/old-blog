(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{371:function(s,t,a){"use strict";a.r(t);var n=a(44),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"新建与合并分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新建与合并分支"}},[s._v("#")]),s._v(" 新建与合并分支")]),s._v(" "),a("p",[s._v("Git 初始化之后，默认只有一个 master 分支，那么什么时候会创建新分呢？")]),s._v(" "),a("p",[s._v("这个看业务场景。我常用的分支原则是：")]),s._v(" "),a("ol",[a("li",[s._v("每个项目成员一个分支")]),s._v(" "),a("li",[s._v("每个环境一个分支")]),s._v(" "),a("li",[s._v("开发新功能时创建一个分支")])]),s._v(" "),a("h3",{attrs:{id:"新建分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新建分支"}},[s._v("#")]),s._v(" 新建分支")]),s._v(" "),a("p",[s._v("比如此刻在 master 分支，要解决一个问题，此时新建一个分支：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -b iss53\n")])])]),a("p",[s._v("它是下面两条命令的简写：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch iss53\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout iss53\n")])])]),a("p",[s._v("iss53 分支是基于当前 master 分支创建的，未修改前，他两的版本保持一致。")]),s._v(" "),a("h3",{attrs:{id:"合并分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合并分支"}},[s._v("#")]),s._v(" 合并分支")]),s._v(" "),a("p",[s._v("在 iss53 分支上修改文件后，提交：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" index.html\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -a -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'iss53 solution'")]),s._v("\n")])])]),a("p",[s._v("此时分支是这样的：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/basic-branching-3.png",alt:"basic-branching-3"}})]),s._v(" "),a("p",[s._v("提交之后，我们再切换回 master 分支。")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：切换分支的时候，Git 会重置工作目录，所以记得提交")])]),s._v(" "),a("p",[s._v("在 master 分支上，将刚才在 iss53 分支上修改的内容合并过来，这么做：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge iss53\nUpdating f42c576"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("3a0874c\nFast-forward\n index.html "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" ++\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" changed, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" insertions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("+"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("注意，这里有个关键词 "),a("strong",[s._v("快进（fast-forward）")]),s._v("，非常重要。")]),s._v(" "),a("p",[s._v("如上图，因为 C3 是 C2 的直接后继，中间没有其他提交，所以合并时只会将 "),a("code",[s._v("HEAD")]),s._v(" 指针前移一位，不会产生一个新的提交。")]),s._v(" "),a("h3",{attrs:{id:"冲突合并"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#冲突合并"}},[s._v("#")]),s._v(" 冲突合并")]),s._v(" "),a("p",[s._v("在上一步的基础上，分别再对 master 分支和 iss53 分支进行修改，修改后的分支如下：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/basic-branching-6.png",alt:"basic-branching-6"}})]),s._v(" "),a("p",[s._v("注意：C2 后的分支开始出现了分叉。")])])}),[],!1,null,null,null);t.default=r.exports}}]);