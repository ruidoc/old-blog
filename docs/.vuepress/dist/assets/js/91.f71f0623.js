(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{447:function(e,t,a){"use strict";a.r(t);var r=a(44),_=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"babel-基础概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-基础概念"}},[e._v("#")]),e._v(" babel 基础概念")]),e._v(" "),a("p",[e._v("Babel 是一个转码器，可以将 ES6 代码转为 ES5 代码。")]),e._v(" "),a("p",[e._v("Babel 核心大概分为三大部分:")]),e._v(" "),a("ul",[a("li",[e._v("解析(parser)：将代码(其实就是字符串)转换成 AST(抽象语法树)")]),e._v(" "),a("li",[e._v("转换(transformer)：访问 AST 的节点进行变换操作生成新的 AST")]),e._v(" "),a("li",[e._v("生成(generator)：以新的 AST 为基础生成代码")])]),e._v(" "),a("h3",{attrs:{id:"_1-解析-parser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-解析-parser"}},[e._v("#")]),e._v(" 1. 解析(parser)")]),e._v(" "),a("p",[e._v("首先，代码本身就是一串字符串，没有任何意义，是 js 引擎解析时赋予了它意义。")]),e._v(" "),a("p",[e._v("解析过程有两步：")]),e._v(" "),a("ul",[a("li",[e._v("词法分析: 将代码(字符串)分割为 token 流，即"),a("strong",[e._v("语法单元")]),e._v("成的数组")]),e._v(" "),a("li",[e._v("语法分析: 分析 token 流并生成 AST")])]),e._v(" "),a("blockquote",[a("p",[e._v("语法单元，包括括号，标识符（常量，变量，关键字），运算符等")])]),e._v(" "),a("p",[e._v("babel负责解析的包是 "),a("code",[e._v("@babel/parser")])]),e._v(" "),a("p",[a("strong",[e._v("AST（抽象语法树）其实就是一个用 json 表示的代码结构和组成。")])]),e._v(" "),a("h3",{attrs:{id:"_2-代码转换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-代码转换"}},[e._v("#")]),e._v(" 2. 代码转换")]),e._v(" "),a("p",[e._v("常用的 "),a("em",[e._v("Babel 插件")]),e._v(" 就是用于定义代码转换规则，是程序员最常用的。而代码解析和生成这一头一尾都主要是 Babel 负责。")]),e._v(" "),a("p",[e._v("比如要将 React 语法转换成小程序，babel的工作流程大概是这样：")]),e._v(" "),a("ol",[a("li",[e._v("babel 将 React 代码解析为抽象语法树")]),e._v(" "),a("li",[e._v("开发者编写 babel 插件，依据 React 抽象语法树生成新的小程序抽象语法树")]),e._v(" "),a("li",[e._v("babel 根据小程序抽象语法树生成最终代码")])]),e._v(" "),a("p",[e._v("例如 Taro 就是用 babel 完成的小程序语法转换.")]),e._v(" "),a("h3",{attrs:{id:"_3-代码生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-代码生成"}},[e._v("#")]),e._v(" 3. 代码生成")]),e._v(" "),a("p",[e._v("遍历新的抽象语法树，生成代码。")]),e._v(" "),a("h3",{attrs:{id:"其他资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他资源"}},[e._v("#")]),e._v(" 其他资源")]),e._v(" "),a("p",[e._v("babel 属于编译原理的范畴，基础知识可以复习大学课程《编译原理》")]),e._v(" "),a("p",[e._v("参考和学习的GitHub仓库："),a("a",{attrs:{href:"https://github.com/jamiebuilds/the-super-tiny-compiler",target:"_blank",rel:"noopener noreferrer"}},[e._v("super-tiny-compiler"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("本文总结于："),a("a",{attrs:{href:"https://juejin.cn/post/6844903849442934798",target:"_blank",rel:"noopener noreferrer"}},[e._v("这里"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=_.exports}}]);