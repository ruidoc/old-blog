<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BFC与工程化 | 杨成功的网络日志</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="努力做一个总结者和分享者">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.2c5cfdb9.js" as="script"><link rel="preload" href="/assets/js/2.f2c5ce74.js" as="script"><link rel="preload" href="/assets/js/58.6a79dc2a.js" as="script"><link rel="prefetch" href="/assets/js/10.5a3da8a1.js"><link rel="prefetch" href="/assets/js/11.19c9f606.js"><link rel="prefetch" href="/assets/js/12.5a0f0895.js"><link rel="prefetch" href="/assets/js/13.36676cb5.js"><link rel="prefetch" href="/assets/js/14.d1be516f.js"><link rel="prefetch" href="/assets/js/15.85b7b12a.js"><link rel="prefetch" href="/assets/js/16.7dd33441.js"><link rel="prefetch" href="/assets/js/17.cf75ed5d.js"><link rel="prefetch" href="/assets/js/18.736cb1d2.js"><link rel="prefetch" href="/assets/js/19.eded8cd1.js"><link rel="prefetch" href="/assets/js/20.4e8f0a2b.js"><link rel="prefetch" href="/assets/js/21.df266199.js"><link rel="prefetch" href="/assets/js/22.c1465f64.js"><link rel="prefetch" href="/assets/js/23.b884037a.js"><link rel="prefetch" href="/assets/js/24.5365b25c.js"><link rel="prefetch" href="/assets/js/25.98c3a2a0.js"><link rel="prefetch" href="/assets/js/26.ee26b529.js"><link rel="prefetch" href="/assets/js/27.676dbf1c.js"><link rel="prefetch" href="/assets/js/28.9f371ea9.js"><link rel="prefetch" href="/assets/js/29.d0db78aa.js"><link rel="prefetch" href="/assets/js/3.cf8cee26.js"><link rel="prefetch" href="/assets/js/30.12bb3ed9.js"><link rel="prefetch" href="/assets/js/31.ae72bfe9.js"><link rel="prefetch" href="/assets/js/32.41e91389.js"><link rel="prefetch" href="/assets/js/33.7e7ba217.js"><link rel="prefetch" href="/assets/js/34.3fdbcc03.js"><link rel="prefetch" href="/assets/js/35.bc7f8d0c.js"><link rel="prefetch" href="/assets/js/36.a7787e72.js"><link rel="prefetch" href="/assets/js/37.f0a10678.js"><link rel="prefetch" href="/assets/js/38.99105b73.js"><link rel="prefetch" href="/assets/js/39.65d9fa98.js"><link rel="prefetch" href="/assets/js/4.16dfa97b.js"><link rel="prefetch" href="/assets/js/40.a282c3bb.js"><link rel="prefetch" href="/assets/js/41.629a42b8.js"><link rel="prefetch" href="/assets/js/42.dc3ff357.js"><link rel="prefetch" href="/assets/js/43.b410e9af.js"><link rel="prefetch" href="/assets/js/44.b66d5e17.js"><link rel="prefetch" href="/assets/js/45.a38877bb.js"><link rel="prefetch" href="/assets/js/46.5394c768.js"><link rel="prefetch" href="/assets/js/47.2b1dae6c.js"><link rel="prefetch" href="/assets/js/48.4f4301da.js"><link rel="prefetch" href="/assets/js/49.84796251.js"><link rel="prefetch" href="/assets/js/5.878af4c4.js"><link rel="prefetch" href="/assets/js/50.22fd2e2f.js"><link rel="prefetch" href="/assets/js/51.5cfe6707.js"><link rel="prefetch" href="/assets/js/52.688a1306.js"><link rel="prefetch" href="/assets/js/53.2fdfb2e8.js"><link rel="prefetch" href="/assets/js/54.af537cab.js"><link rel="prefetch" href="/assets/js/55.3a8dd927.js"><link rel="prefetch" href="/assets/js/56.1534180f.js"><link rel="prefetch" href="/assets/js/57.b3a67412.js"><link rel="prefetch" href="/assets/js/59.af36ea8f.js"><link rel="prefetch" href="/assets/js/6.9c0fbe94.js"><link rel="prefetch" href="/assets/js/60.db643d0f.js"><link rel="prefetch" href="/assets/js/61.37feded7.js"><link rel="prefetch" href="/assets/js/62.584457f5.js"><link rel="prefetch" href="/assets/js/63.be90388b.js"><link rel="prefetch" href="/assets/js/64.86606aec.js"><link rel="prefetch" href="/assets/js/65.16f9d5f4.js"><link rel="prefetch" href="/assets/js/66.8e596eae.js"><link rel="prefetch" href="/assets/js/67.79d2a301.js"><link rel="prefetch" href="/assets/js/68.d094d9a2.js"><link rel="prefetch" href="/assets/js/69.b2235d57.js"><link rel="prefetch" href="/assets/js/7.e3b1c7d6.js"><link rel="prefetch" href="/assets/js/70.0bb2dca4.js"><link rel="prefetch" href="/assets/js/71.f99e25b2.js"><link rel="prefetch" href="/assets/js/72.eadf477a.js"><link rel="prefetch" href="/assets/js/73.4d0ee5e1.js"><link rel="prefetch" href="/assets/js/74.49c07fe1.js"><link rel="prefetch" href="/assets/js/75.78bbb3b9.js"><link rel="prefetch" href="/assets/js/76.290e38e9.js"><link rel="prefetch" href="/assets/js/77.99cc299e.js"><link rel="prefetch" href="/assets/js/78.8cbcf298.js"><link rel="prefetch" href="/assets/js/79.a8eff25a.js"><link rel="prefetch" href="/assets/js/8.7add360f.js"><link rel="prefetch" href="/assets/js/80.2a2acf51.js"><link rel="prefetch" href="/assets/js/81.d603aae1.js"><link rel="prefetch" href="/assets/js/82.15f4a38d.js"><link rel="prefetch" href="/assets/js/83.999875d7.js"><link rel="prefetch" href="/assets/js/84.e6de8b14.js"><link rel="prefetch" href="/assets/js/85.a9ce269e.js"><link rel="prefetch" href="/assets/js/86.53dcd6e1.js"><link rel="prefetch" href="/assets/js/87.359882c2.js"><link rel="prefetch" href="/assets/js/88.5303eb58.js"><link rel="prefetch" href="/assets/js/89.98f3b57f.js"><link rel="prefetch" href="/assets/js/9.774d418b.js"><link rel="prefetch" href="/assets/js/90.5343d941.js"><link rel="prefetch" href="/assets/js/91.f71f0623.js"><link rel="prefetch" href="/assets/js/92.ffdd1f51.js"><link rel="prefetch" href="/assets/js/93.b113b1aa.js"><link rel="prefetch" href="/assets/js/94.a4a8a44a.js"><link rel="prefetch" href="/assets/js/95.8f3be03e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">杨成功的网络日志</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="bfc与工程化"><a href="#bfc与工程化" class="header-anchor">#</a> BFC与工程化</h2> <p>CSS 高级知识点，就是 BFC。</p> <h3 id="bfc"><a href="#bfc" class="header-anchor">#</a> BFC</h3> <p>BFC 就是一个作用范围。可以把它理解成是一个独立的容器。</p> <p>不过这个定义比较抽象。理解 BFC 能解决什么问题、能够用于什么场景，更直观。</p> <p>常常解决以下的布局问题：</p> <ul><li>清除浮动 bug；</li> <li>阻止 margin 发生重叠；</li> <li>两列布局浮动问题。</li></ul> <p>先列举几个常见的创建 BFC 的方法：</p> <ul><li>float 的值不是 none；</li> <li>position 的值不是 static 或者 relative；</li> <li>overflow 的值不是 visible。</li></ul> <h4 id="bfc-清除浮动"><a href="#bfc-清除浮动" class="header-anchor">#</a> BFC 清除浮动</h4> <p>在 flex 盛行之前，实现块元素横向排列的首选方案就是浮动布局。</p> <p>但是浮动布局有个副作用：因为脱离文档流，所以父元素不会被撑开。</p> <p>怎么办呢？这里可以设置 overflow 属性：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
</code></pre></div><p>此时父元素创建了一个 BFC，使父元素成为独立区域，“包裹”住他所有的子元素，间接实现了撑开父元素。</p> <h4 id="bfc-解决重叠边距问题"><a href="#bfc-解决重叠边距问题" class="header-anchor">#</a> BFC 解决重叠边距问题</h4> <p>先来看看啥是外边距重叠：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是盒子一号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是盒子二号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
   <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box1,
.box2</span> <span class="token punctuation">{</span>
   <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
   <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
   <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
   <span class="token property">margin</span><span class="token punctuation">:</span> 20px 0 20px 0<span class="token punctuation">;</span>
   <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
   <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>效果如下：</p> <p><img src="/assets/F670C641-C752-4F66-9AE0-0D1A58F24A2D.png" alt="F670C641-C752-4F66-9AE0-0D1A58F24A2D"></p> <p>其实这里出现了两个问题：</p> <ol><li>兄弟元素之间边距重叠</li> <li>子元素边距溢出到了父元素外面</li></ol> <p>此时，BFC 上场了。给两个盒子各创建一个父元素，都设置为 BFC，问题就解决了.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是盒子一号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是盒子二号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box-container</span> <span class="token punctuation">{</span>
     <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>此时的 <strong>.box-container</strong> 是一个独立区域，“封锁” 了边距重叠，既不让 margin 影响相邻的兄弟元素，也不影响父元素。</p> <p>再想一种情况：如果不加 <strong>.box-container</strong>，而是将父元素 <strong>.box</strong> 设置为 BFC 呢？</p> <p>这时候父子元素的边界溢出解决了，兄弟元素的边界重叠还是存在的。</p> <h4 id="阻止元素被浮动的元素覆盖"><a href="#阻止元素被浮动的元素覆盖" class="header-anchor">#</a> 阻止元素被浮动的元素覆盖</h4> <p>基于浮动可以实现两列布局：一列宽度固定，另一列自适应。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>floatBox1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是被浮动的元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        我没有被浮动，我是修言的两列布局测试小弟我没有被浮动，我是修言的两列布局测试小弟我没有被浮动，我是修言的两列布局测试小弟我没有被浮动，我是修言的两列布局测试小弟我没有被浮动，我是修言的两列布局测试小弟<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.floatBox1</span> <span class="token punctuation">{</span>
   <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
   <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
   <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
   <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #333<span class="token punctuation">;</span>
   <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box2</span> <span class="token punctuation">{</span>
   <span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
   <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #333<span class="token punctuation">;</span>
   <span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>效果是这样的：</p> <p><img src="/assets/F0DFF31B-CD58-4882-907C-50F009C10520.png" alt="F0DFF31B-CD58-4882-907C-50F009C10520"></p> <p>左侧盒子使用了浮动布局，会脱离文档流，“浮”在普通文档流的上方。</p> <p>但我们要的是分割的两列，怎么办呢?</p> <p>方案就是要 <strong>.box2</strong> 独立，不受浮动影响，将它设置为 BFC 嘛：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.box2</span> <span class="token punctuation">{</span>
   <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最终效果：</p> <p><img src="/assets/9C81530A-2542-4DD0-939D-392E13F7ADB6.png" alt="9C81530A-2542-4DD0-939D-392E13F7ADB6"></p> <h3 id="谈谈你对-css-工程化的理解"><a href="#谈谈你对-css-工程化的理解" class="header-anchor">#</a> 谈谈你对 CSS 工程化的理解</h3> <p>首先，CSS 工程化是为了解决哪些问题：</p> <ol><li>宏观设计：如何实现模块化？</li> <li>编码优化：如何结构清晰？如何复用类名和通用属性？</li> <li>构建：打包效果最优</li> <li>可维护性：如何修改时成本最小</li></ol> <p>从这四个方面结合开发经验思考。至少有三个点：</p> <ul><li>预处理器：Less、 Sass 等；</li> <li>重要的工程化插件： PostCss；</li> <li>Webpack loader 等；</li></ul> <h4 id="预处理器-为什么要用预处理器-它的出现是为了解决什么问题"><a href="#预处理器-为什么要用预处理器-它的出现是为了解决什么问题" class="header-anchor">#</a> 预处理器：为什么要用预处理器？它的出现是为了解决什么问题？</h4> <p>预处理器于 CSS，就相当于 React，Vue 于 JS。</p> <p><img src="/assets/DB94C1EF-648E-4F43-90DD-918DE8A0337A.png" alt="DB94C1EF-648E-4F43-90DD-918DE8A0337A"></p> <p>预处理器的代表就是 LESS 和 SASS，他们普遍具有这样的特性：</p> <ul><li>嵌套代码的能力</li> <li>支持定义 css 变量</li> <li>提供计算函数</li> <li>允许 extend 和 mixin；</li> <li>支持循环语句</li> <li>支持模块化的引用</li></ul> <h4 id="postcss-postcss-是如何工作的-我们在什么场景下会使用-postcss"><a href="#postcss-postcss-是如何工作的-我们在什么场景下会使用-postcss" class="header-anchor">#</a> PostCss：PostCss 是如何工作的？我们在什么场景下会使用 PostCss？</h4> <p>CSS 世界的 PostCss，相当于 JS 世界里的 Babel。</p> <p>作用就是将先进的CSS语法转换为浏览器支持的语法。而且它有强大的插件机制，支持扩展。</p> <p>高频的使用场景如下：</p> <ul><li>提高 CSS 代码的可读性</li> <li>Autoprefixer 自动增加浏览器前缀</li> <li>面向未来：编译 CSS next 代码</li></ul> <h4 id="webpack-能处理-css-吗-如何实现"><a href="#webpack-能处理-css-吗-如何实现" class="header-anchor">#</a> Webpack 能处理 CSS 吗？如何实现？</h4> <p>首先，webpack 是面向 JS 的，它本身只支持打包js。</p> <p>但是，Webpack 在 loader 的支持下，可以处理 css，image</p> <p>Webpack 中操作 CSS 需要使用的两个关键的 loader：css-loader 和 style-loader</p> <ul><li>css-loader：导入 CSS 模块，对 CSS 代码进行编译处理；</li> <li>style-loader：创建style标签，把 CSS 内容写入标签</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2c5cfdb9.js" defer></script><script src="/assets/js/2.f2c5ce74.js" defer></script><script src="/assets/js/58.6a79dc2a.js" defer></script>
  </body>
</html>
